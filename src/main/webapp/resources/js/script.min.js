app.moviesModule=angular.module("detailMovieController",[]);app.moviesModule.controller("detailMovieCtrl",function(a,d,c,e,b){if(d.idMovie!=0){c.movie={id:3,name:"Metegol",description:"All Boys espera al ganador entre los Bodegueros y el equipo del Viaducto, en la semifinal. En la otra llave lucharan por un lugar en la final el sorprendente Estudiantes de Buenos Aires milita en la B Metropolitana y es el unico de los cuatro que no es de Primera y San Lorenzo.",urlImage:"./resources/img/movies/1.jpg",urlTrailer:"http://www.youtube.com/embed/30v_FQxGmaA",actors:"Pablo Rago, Miguel Angel Rodriguez, Fabian Gianola, Horacio Fontova",genre:"Comedy"}}});app.moviesModule=angular.module("moviesController",[]);app.moviesModule.controller("moviesCtrl",function(a,d,c,e,b){c.movies=[{id:1,name:"Que paso ayer 1",url:"./resources/img/movies/1.jpg"},{id:2,name:"Metegol",url:"./resources/img/movies/2.jpg"},{id:3,name:"Que paso ayer 2",url:"./resources/img/movies/3.jpg"},{id:4,name:"Metegol 1",url:"./resources/img/movies/4.jpg"},{id:5,name:"Que paso ayer 2",url:"./resources/img/movies/5.jpg"},{id:6,name:"Metegol 1",url:"./resources/img/movies/6.jpg"}]});app.factory("movieService",function(a){return{getMovies:function(){var b=a.get(app.constantsGlobal.REST_MOVIE).then(function(c){return c.data});return b},getMovie:function(c){var b=a.get(app.constantsGlobal.REST_MOVIE+"/"+c).then(function(d){return d.data});return b},getSities:function(){var c="urldespues";var b=a.get(c).then(function(d){return d.data});return b}}});app.moviesModule=angular.module("stepSelectMovieController",[]);app.moviesModule.controller("reservationMovieCtrl",function(a,d,c,e,b){c.theaters=[{id:1,name:"Palmares"},{id:2,name:"Shopping"}];c.updateTheaterSelected=function(f){if(f.id==1){c.movies=[{id:1,name:"Jobs",},{id:2,name:"Mi villano Favorito 2"}]}else{c.movies=[{id:3,name:"Que paso ayer 1"},{id:4,name:"Metegol"}]}c.description="Amadeo vive en un pueblo pequeno y anonimo. Trabaja en un bar, juega al metegol mejor que nadie y esta enamorado de Laura, aunque ella no lo sabe. Su rutina sencilla se desmorona cuando Parpados, un joven del pueblo convertido en el mejor futbolista del mundo, vuelve dispuesto a vengarse de la unica derrota que sufrio en su vida. Con el metegol, el bar y hasta su alma destruidas, Amadeo descubre algo magico: los jugadores de su querido metegol hablan y mucho. Juntos se embarcaran en un viaje lleno de aventuras para salvar a Laura y al pueblo y en el camino convertirse en un verdadero equipo. Pero, hay en el futbol lugar para los milagros.";c.filter.movieSelected=false;c.filter.showTimeSelected=false};c.updateMovieSelected=function(f){if(f.id==1||f.id==3){c.showTimes=[{name:"miercoles 20:20"},{name:"miercoles 22"}]}else{c.showTimes=[{name:"jueves 20:20"},{name:"sabado 22"}]}c.filter.showTimeSelected=false}});app.moviesModule=angular.module("stepSelectPaymentController",[]);app.moviesModule.controller("paymentCtrl",function(a,d,c,e,b){c.formaPago="contado";c.methodsPayment=[{id:1,name:"contado"},{id:2,name:"tarjeta"}];c.updateMethodPayment=function(f){}});app.moviesModule=angular.module("stepSelectSitieController",[]);app.moviesModule.controller("sitiesCtrl",function(g,h,i,c,d){i.occupiedSession=0;i.quantitySelected={id:0,number:0};i.sitiesSelected=new Array();i.quantities=[{id:1,number:1},{id:2,number:2},{id:3,number:3},{id:4,number:4}];var b="OTHER",f="MY",e="FREE";function a(r,p){var k=r.row;var t=r.column;var l=new Array();var q={};if(r.occupied){for(var o=0;o<r.occupied.length;o++){var u=r.occupied[o].row;var m=r.occupied[o].column;q[u+"-"+m]=true}}for(var o=0;o<k;o++){for(var n=0;n<t;n++){var s=new Object();s.row=o;s.column=n;s.nameSection=p;if(o+"-"+n in q){s.url="resources/img/seat_red.gif";s.occupied=b}else{s.url="resources/img/seat_gray.gif";s.occupied=e}l.push(s)}if(p=="CENTER"){i.sizeCenter=t*24+"px";i.sizeCenterNro=t*24}if(p=="LEFT"){i.sizeLeft=t*24+"px";i.sizeLeftNro=t*24}if(p=="RIGHT"){i.sizeRight=t*24+"px"}}return l}i.sitiesList=function(){var j={movie:{id:2304,title:"lalala"},theater:{id:30,name:"cinemark palmares"},showTime:{schedule:"17:00",id:234,left:[{row:20,column:4}],center:[{row:20,column:15,occupied:[{row:1,column:4},{row:1,column:5},{row:6,column:7},{row:3,column:2},{row:5,column:4},]}],right:[{row:20,column:3,occupied:[{row:1,column:3}]}]}};sitiesLeftTemp=a(j.showTime.left[0],"LEFT");sitiesCenterTemp=a(j.showTime.center[0],"CENTER");sitiesRightTemp=a(j.showTime.right[0],"RIGHT");i.sitiesLeft=sitiesLeftTemp;i.sitiesCenter=sitiesCenterTemp;i.sitiesRight=sitiesRightTemp};i.updateSitie=function(j){if(j.occupied==f){i.occupiedSession-=1;j.occupied=e;j.url="resources/img/seat_gray.gif";return}if(i.quantitySelected.number<=i.occupiedSession){return}if(!(j.occupied==b)){i.occupiedSession+=1;j.occupied=f;j.url="resources/img/seat_green.gif";i.sitiesSelected.push(j);return}};i.sitiesList()});app.moviesModule=angular.module("tplReservationMovieController",[]);app.moviesModule.controller("reservationCtrl",function(a,d,c,e,b){c.templates=[{name:"filtroSesiones",url:"resources/tpl/gridMovies.html",state:true},{name:"tablaSesiones",url:"resources/tpl/stepSelectMovie.html",state:true}]});app.moviesModule=angular.module("tplStepsController",[]);app.moviesModule.controller("reservationdddCtrl",function(a,f,d,g,b){var c;d.filter={};d.templates=[{name:"stepSelectMovie",url:"resources/tpl/stepSelectMovie.html",state:true},{name:"stepSelectSitie",url:"resources/tpl/stepSelectSitie.html",state:false},{name:"stepSelectPayment",url:"resources/tpl/stepSelectPayment.html",state:false}];d.theaters=[{id:1,name:"Palmares"},{id:2,name:"Shopping"}];d.movies=[{id:1,name:"Que paso ayer 1"},{id:2,name:"Metegol"}];d.showTimes=[{id:1,name:"miercoles 20:20"},{id:2,name:"miercoles 22"}];if(f.movie&&f.theater&&f.showTime){for(var e=0;e<d.theaters.length;e++){if(d.theaters[e].id==f.theater){d.filter.theaterSelected=d.theaters[0];break}}for(var e=0;e<d.movies.length;e++){if(d.movies[e].id==f.movie){d.filter.movieSelected=d.movies[0];break}}for(var e=0;e<d.showTimes.length;e++){if(d.showTimes[e].id==f.showTime){d.filter.showTimeSelected=d.showTimes[0];break}}d.description="Amadeo vive en un pueblo pequeno y anonimo. Trabaja en un bar, juega al metegol mejor que nadie y esta enamorado de Laura, aunque ella no lo sabe. Su rutina sencilla se desmorona cuando Parpados, un joven del pueblo convertido en el mejor futbolista del mundo, vuelve dispuesto a vengarse de la unica derrota que sufrio en su vida. Con el metegol, el bar y hasta su alma destruidas, Amadeo descubre algo magico: los jugadores de su querido metegol hablan y mucho. Juntos se embarcaran en un viaje lleno de aventuras para salvar a Laura y al pueblo y en el camino convertirse en un verdadero equipo. Pero, hay en el futbol lugar para los milagros.";d.templates[1].state=true}d.fin=function(){console.log(a);console.log(d);console.log("ddddd")};d.fin1=function(j){d.sitiesSelectedText="";d.quantitySelected=j.length;for(var h=0;h<j.length;h++){d.sitiesSelectedText=d.sitiesSelectedText+"("+j[h].row+","+j[h].column+")"}d.templates[2].state=true};d.end=function(h){alert("Method Payment: "+h.name)};d.updateQuantitySelected=function(h){d.templates[2].state=false}});